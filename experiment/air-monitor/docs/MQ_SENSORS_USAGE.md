# MQ系列传感器使用指南

## 🎯 概述

如果你有图片中的MQ系列传感器套件，本文将指导你如何最大化利用这些传感器进行厨房环境监测实验。

---

## ✅ 可以直接使用的传感器

### 核心传感器（必须）

#### 1. MQ-135 空气质量传感器 ✅

**功能：**
- 检测CO2（二氧化碳）
- 检测NH3（氨气）
- 检测苯、烟雾等有机挥发物（VOC）

**实验中的作用：**
- 监测厨房空气污染程度
- 监测CO2浓度变化（做饭时上升）

**接线：**
```
MQ-135 → Arduino
├── VCC → 5V
├── GND → GND
├── AO → A0（模拟输出）
└── DO → D3（数字输出）
```

**数据解读：**
- 正常厨房：200-400（模拟值0-1024）
- 轻微污染：400-600
- 重度污染：>600

---

#### 2. MQ-7 一氧化碳传感器 ✅

**功能：**
- 专门检测一氧化碳（CO）
- 燃气不完全燃烧的产物
- **安全监测的关键指标**

**实验中的作用：**
- 监测燃气泄漏风险
- 监测燃烧产生的一氧化碳
- **厨房安全重要指标**

**接线：**
```
MQ-7 → Arduino
├── VCC → 5V
├── GND → GND
├── AO → A1（模拟输出）
└── DO → D4（数字输出）
```

**数据解读：**
- 安全值：< 50（模拟值）
- 警戒值：50-200
- 危险值：> 200（需立即通风）

⚠️ **注意：** MQ-7有内置的加热循环，需要交替使用5V和1.4V供电，代码中需要特殊处理。

---

### 可选补充传感器

#### 3. MQ-4 甲烷传感器 ⭐

**功能：** 检测甲烷（天然气主要成分）

**适用场景：**
- 使用天然气烹饪
- 检测燃气泄漏

**接线：**
```
MQ-4 → Arduino
├── VCC → 5V
├── GND → GND
├── AO → A3（模拟输出）
└── DO → D7（数字输出）
```

---

#### 4. MQ-5 液化气传感器 ⭐

**功能：** 检测液化石油气（LPG）

**适用场景：**
- 使用液化气罐
- 检测燃气泄漏

**接线：**
```
MQ-5 → Arduino
├── VCC → 5V
├── GND → GND
├── AO → A3（模拟输出）
└── DO → D7（数字输出）
```

---

#### 5. MQ-9 可燃气+一氧化碳传感器 ⭐⭐

**功能：**
- 检测一氧化碳（重复MQ-7功能）
- 检测可燃气体（甲烷、丙烷、丁烷等）

**优点：**
- **复合传感器**，一个顶两个
- 可以替代MQ-7（如果MQ-9精度足够）

**接线：**
```
MQ-9 → Arduino
├── VCC → 5V
├── GND → GND
├── AO → A1（模拟输出，可选）
└── DO → D4（数字输出，可选）
```

---

## 📊 传感器组合建议

### 方案1：最小配置（推荐）

**只用3个传感器：**
- ✅ DHT11（套件）- 温度+湿度
- ✅ MQ-135（套件）- 空气质量
- ✅ 声音传感器（套件）- 噪音
- ✅ PMS5003（需购买）- PM2.5

**功能覆盖：** 基础监测  
**预算：** 仅¥45（只需买PMS5003）

---

### 方案2：安全加强版（推荐）

**使用5个传感器：**
- ✅ DHT11 - 温度+湿度
- ✅ MQ-135 - 空气质量
- ✅ MQ-7 - 一氧化碳（安全）
- ✅ MQ-4或MQ-5 - 燃气泄漏检测
- ✅ 声音传感器 - 噪音
- ✅ PMS5003 - PM2.5（需购买）

**功能覆盖：** 完整安全监测  
**预算：** ¥45（只需买PMS5003）

**优势：**
- ✅ 双重安全监测（CO + 燃气泄漏）
- ✅ 数据更全面

---

### 方案3：极致完整版

**使用7+个传感器：**
- ✅ DHT11 - 温湿度
- ✅ MQ-135 - 空气质量
- ✅ MQ-7 - 一氧化碳
- ✅ MQ-4 - 甲烷
- ✅ MQ-5 - 液化气
- ✅ MQ-9 - 可燃气复合
- ✅ 声音传感器 - 噪音
- ✅ HC-SR501（需买）- 人体感应
- ✅ PMS5003（需买）- PM2.5

**功能覆盖：** 最全面监测  
**预算：** ¥51（只需买PMS5003 + HC-SR501）

---

## 🔌 多传感器接线方案

### 接线图（如果有3-5个MQ传感器）

```
Arduino UNO R4 WiFi
│
├── 5V ───┬──→ MQ-135 VCC
│         ├──→ MQ-7 VCC
│         ├──→ MQ-4/MQ-5 VCC（可选）
│         └──→ DHT11 VCC
│
├── GND ──┬──→ MQ-135 GND
│         ├──→ MQ-7 GND
│         ├──→ MQ-4/MQ-5 GND（可选）
│         └──→ DHT11 GND
│
├── A0 ───→ MQ-135 AO（空气质量）
├── A1 ───→ MQ-7 AO（一氧化碳）
├── A2 ───→ 声音传感器 AO（噪音）
├── A3 ───→ MQ-4/MQ-5 AO（燃气，可选）
│
├── D2 ───→ DHT11 DATA
├── D3 ───→ MQ-135 DO（数字输出，可选）
├── D4 ───→ MQ-7 DO（数字输出，可选）
├── D5 ───→ 声音传感器 DO
└── D6 ───→ HC-SR501 OUT（人体感应，可选）
```

### 重要提示

**模拟输入引脚限制：**
- Arduino UNO R4 WiFi有6个模拟引脚：A0-A5
- 建议最多使用4-5个模拟传感器
- 多余的传感器可以用数字输出端（DO）作为补充

---

## 💻 代码修改建议

### 添加多个MQ传感器的代码

```cpp
// Arduino多MQ传感器配置
#define MQ135_AO_PIN  A0   // 空气质量
#define MQ7_AO_PIN    A1   // 一氧化碳
#define MQ4_AO_PIN    A3   // 甲烷（可选）
#define MQ5_AO_PIN    A4   // 液化气（可选）

void readAllMQSensors() {
  // 读取所有MQ传感器
  int mq135_value = analogRead(MQ135_AO_PIN);
  int mq7_value = analogRead(MQ7_AO_PIN);
  int mq4_value = analogRead(MQ4_AO_PIN);  // 可选
  int mq5_value = analogRead(MQ5_AO_PIN);   // 可选
  
  // 存储到数据结构
  currentData.mq135_value = mq135_value;
  currentData.mq7_value = mq7_value;
  currentData.mq4_value = mq4_value;
  currentData.mq5_value = mq5_value;
}
```

---

## ⚠️ MQ传感器使用注意事项

### 1. 预热时间

所有MQ传感器都需要预热：

| 传感器 | 预热时间 | 原因 |
|--------|---------|------|
| MQ-135 | 1-2分钟 | 内部加热元件 |
| MQ-7 | 1-2分钟 | 需要5V/1.4V交替加热 |
| MQ-4 | 30-60秒 | 加热元件启动 |
| MQ-5 | 30-60秒 | 加热元件启动 |
| MQ-9 | 1-2分钟 | 双重加热循环 |

**建议：** 代码中等待30-60秒预热后再开始数据采集

### 2. 数字输出（DO）的使用

所有MQ传感器都有数字输出端（DO）：
- 可以设置阈值（通过电位器）
- 达到阈值时输出HIGH，否则LOW
- 可以用于告警功能

### 3. 传感器校准

**MQ传感器读数相对值，不是绝对值：**

```cpp
// 简单的数据转换为浓度（需要校准）
float getCO2Level(int mq135_value) {
  // 这只是一个示例，实际需要校准
  float ratio = (mq135_value - 200) / 600.0;  // 相对浓度
  return ratio;  // 返回0.0-1.0的比值
}
```

### 4. 传感器选择建议

**如果你的厨房使用天然气：**
- ✅ 优先使用MQ-4（甲烷）
- ✅ 辅助使用MQ-7（一氧化碳）
- ✅ 使用MQ-135（综合空气质量）

**如果你的厨房使用液化气：**
- ✅ 优先使用MQ-5（液化气）
- ✅ 辅助使用MQ-7（一氧化碳）
- ✅ 使用MQ-135（综合空气质量）

**如果使用多种燃料：**
- ✅ 使用MQ-9（可燃气复合检测）
- ✅ 使用MQ-135（综合空气质量）
- ✅ 使用MQ-7（一氧化碳，双重保险）

---

## 📋 完整实验传感器组合

### 最终推荐组合

基于你现有的套件，**最完美的传感器组合：**

| 传感器 | 来源 | 价格 | 功能 |
|--------|------|------|------|
| **DHT11** | 套件 | ¥0 | 温度+湿度 |
| **MQ-135** | 套件 | ¥0 | 空气质量+CO2 |
| **MQ-7** | 套件 | ¥0 | 一氧化碳（安全） |
| **MQ-4或MQ-5** | 套件 | ¥0 | 燃气泄漏检测 |
| **声音传感器** | 套件 | ¥0 | 噪音检测 |
| **PMS5003** | **需购买** | **¥45** | **PM2.5颗粒物** |

**总采购成本：仅¥45**  
**比原方案节省：¥145**

---

## 🎯 结论

### 你的优势

✅ **拥有完整的MQ系列传感器** - 无需购买气体传感器  
✅ **实验功能接近专业级** - 可以监测多种气体  
✅ **安全监测能力强** - CO、燃气泄漏双重监测  
✅ **成本极低** - 仅需购买PMS5003

### 仍需购买的传感器

🔴 **PMS5003** - ¥45（必须）

**原因：**
- MQ系列无法检测PM2.5颗粒物
- 厨房油烟主要是颗粒物
- 这是最关键的指标之一

---

## 🚀 下一步

1. **确认你有哪些传感器**
   - 列出手头有的MQ传感器型号

2. **选择传感器组合方案**
   - 根据你的厨房燃料类型选择

3. **采购PMS5003**
   - 在淘宝搜索"PMS5003"
   - 约¥45

4. **开始接线和实验**
   - 参考接线图
   - 使用提供的代码

---

**创建日期**: 2025-01-XX  
**适用对象**: 拥有MQ系列传感器套件的用户  
**状态**: ✅ 准备开始实验

