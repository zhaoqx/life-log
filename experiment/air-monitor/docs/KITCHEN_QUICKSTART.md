# 厨房空气质量监测系统 - 快速开始

**⏱️ 预计时间**: 30分钟  
**👨‍🎓 难度**: 中级  
**📦 传感器**: DHT11 + MQ7 + MQ135 + 声音传感器

---

## 🚀 5分钟快速上手

### 1️⃣ 硬件连接（10分钟）

按照颜色连接跳线：

```
所有传感器的VCC → Arduino 5V    [红色]
所有传感器的GND → Arduino GND   [黑色]

DHT11 DATA      → Arduino D2     [黄色]
MQ7 A0          → Arduino A0     [灰色]
MQ135 A0        → Arduino A1     [绿色]
声音传感器 OUT   → Arduino A2     [蓝色]
```

**完成标志**：所有线连接牢固，Arduino USB连接电脑。

### 2️⃣ Arduino代码（5分钟）

1. 打开 `experiment/air-monitor/src/arduino/kitchen_sensor_v1.ino`
2. 修改WiFi配置（第14-15行）：
   ```cpp
   char ssid[] = "你的WiFi名称";
   char pass[] = "你的WiFi密码";
   ```
3. 修改服务器IP（第18行）：
   ```cpp
   String host = "你的PC_IP";  // 用ipconfig查看
   ```
4. 上传代码到Arduino

**完成标志**：串口监视器显示"WiFi连接成功"。

### 3️⃣ Python服务器（5分钟）

打开命令行：

```bash
cd experiment/air-monitor/src/python
pip install flask flask-cors
python kitchen_web_server.py
```

**完成标志**：显示"Running on http://0.0.0.0:5000"。

### 4️⃣ 查看结果（1分钟）

浏览器打开：`http://localhost:5000`

**完成标志**：看到5个数据卡片显示实时数据。

---

## 📊 界面说明

### 数据卡片

| 卡片 | 显示内容 | 正常范围 |
|------|---------|---------|
| 🌡️ 温度 | 当前温度 | 18-28°C |
| 💧 湿度 | 当前湿度 | 40-70%RH |
| ⚠️ 一氧化碳 | CO浓度 | < 50 ppm（安全） |
| 🌫️ 空气质量 | AQI指数 | < 100（优秀） |
| 🔊 声音强度 | 噪音水平 | 30-50% |

### 状态标识

- 🟢 **绿色**：安全/正常
- 🟡 **黄色**：注意/警告
- 🔴 **红色**：危险/异常

### 图表说明

1. **温湿度趋势图**：显示温度和湿度的历史变化
2. **气体浓度趋势图**：显示CO和空气质量的变化
3. **声音强度趋势图**：显示环境噪音的波动

---

## 🧪 快速测试

### 测试1：温湿度（DHT11）
**操作**：对着传感器呼气  
**预期**：温度↑ 1-2°C，湿度↑ 10-20%

### 测试2：空气质量（MQ135）
**操作**：喷一点空气清新剂  
**预期**：AQI数值快速上升

### 测试3：声音（声音传感器）
**操作**：拍手或播放音乐  
**预期**：声音强度跳动

### 测试4：一氧化碳（MQ7）
**操作**：等待预热5分钟  
**预期**：数值稳定在较低水平

---

## ⚙️ 常用配置

### 修改数据发送频率

编辑 `kitchen_sensor_v1.ino` 第31行：
```cpp
int sendInterval = 5000;  // 5000 = 5秒，可改为3000（3秒）
```

### 修改Web刷新频率

浏览器开发者工具，控制台执行：
```javascript
// 改为每秒刷新一次
clearInterval(autoRefreshInterval);
autoRefreshInterval = setInterval(refreshData, 1000);
```

### 查看更多历史数据

修改 `kitchen_web_server.py` 第150行：
```python
limit = request.args.get('limit', 100, type=int)  # 改为200
```

---

## 🔧 常见问题（1分钟解决）

### WiFi连接失败
```
❌ 问题：WiFi无法连接
✅ 解决：检查WiFi名称、密码，确保是2.4GHz网络
```

### 数据不显示
```
❌ 问题：Web界面显示 "--"
✅ 解决：检查串口监视器，确认Arduino正在发送数据
```

### 传感器读数异常
```
❌ 问题：MQ7/MQ135数值一直是0
✅ 解决：传感器需要预热5分钟，等待后再观察
```

### 无法访问Web界面
```
❌ 问题：浏览器无法打开 http://localhost:5000
✅ 解决：检查Python服务器是否正在运行，防火墙是否允许
```

---

## 📱 手机访问

### 步骤1：获取PC IP
Windows命令行执行：
```bash
ipconfig
```
找到 IPv4 地址，例如：`192.168.1.100`

### 步骤2：手机浏览器访问
```
http://192.168.1.100:5000
```

**前提**：手机和PC在同一WiFi网络。

---

## 🎯 下一步

### 初级扩展
- [ ] 调整传感器灵敏度
- [ ] 修改显示颜色主题
- [ ] 添加自定义告警阈值

### 中级扩展
- [ ] 添加数据导出功能
- [ ] 实现邮件告警
- [ ] 添加PM2.5传感器

### 高级扩展
- [ ] 接入云平台（阿里云/腾讯云）
- [ ] 开发移动端APP
- [ ] 实现机器学习预测

---

## 📚 详细文档

- **完整组装指南**: `KITCHEN_ASSEMBLY_GUIDE.md`
- **实验方案**: `research-厨房空气质量监测与异常告警创意实验方案.md`
- **视频剧本**: `视频剧本.md`
- **项目README**: `../README.md`

---

## 💡 小贴士

### 提高数据准确性
1. MQ7和MQ135首次使用预热24小时
2. 将传感器固定在稳定位置
3. 避免阳光直射传感器
4. 保持传感器清洁

### 优化系统性能
1. 使用独立5V电源（2A以上）
2. 添加电容稳定电源
3. 使用优质跳线
4. 定期重启系统

### 安全使用
1. 本系统仅供学习使用
2. 不能替代专业安全设备
3. 测试时注意通风
4. 传感器会发热，避免触摸

---

## ✅ 检查清单

开始前检查：
- [ ] Arduino UNO R4 WiFi × 1
- [ ] DHT11温湿度传感器 × 1
- [ ] MQ7一氧化碳传感器 × 1
- [ ] MQ135空气质量传感器 × 1
- [ ] 声音传感器 × 1
- [ ] 面包板和跳线
- [ ] USB Type-C数据线
- [ ] 电脑（已安装Arduino IDE和Python）

完成后检查：
- [ ] 所有传感器正确连接
- [ ] Arduino代码上传成功
- [ ] WiFi连接成功
- [ ] Python服务器运行正常
- [ ] Web界面显示数据
- [ ] LED矩阵循环显示
- [ ] 传感器测试正常

---

## 🆘 需要帮助？

1. **查看串口输出**：Arduino IDE → 工具 → 串口监视器
2. **查看服务器日志**：Python终端窗口
3. **查看浏览器控制台**：F12 → Console
4. **阅读详细文档**：`KITCHEN_ASSEMBLY_GUIDE.md`

---

**开始时间**: ___________  
**完成时间**: ___________  
**遇到的问题**: ___________  
**解决方法**: ___________

---

**祝你实验成功！🎉**
