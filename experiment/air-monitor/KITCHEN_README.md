# 🏠 厨房空气质量监测系统（多传感器版本）

**项目状态**: ✅ 完整可用  
**版本**: v1.0  
**日期**: 2025-10-28  
**基于**: Arduino UNO R4 WiFi + Python Flask

---

## 📖 项目简介

这是一个**基于Arduino的多传感器厨房空气质量监测系统**，实现了温度、湿度、一氧化碳、空气质量、声音5个维度的实时监测。系统通过WiFi将数据发送到PC端Python Web服务器，提供现代化的Web界面进行数据展示和分析。

### 核心特性

- 🌡️ **温湿度监测**（DHT11）- 实时监测环境舒适度
- ⚠️ **一氧化碳检测**（MQ7）- 保障厨房安全
- 🌫️ **空气质量监测**（MQ135）- 评估油烟污染
- 🔊 **声音强度检测**（声音传感器）- 判断设备运行状态
- 📊 **数据可视化** - 实时图表和历史趋势分析
- 📱 **多设备访问** - PC和手机均可访问
- 💾 **数据持久化** - SQLite数据库存储

---

## 🎯 快速开始

### 5分钟快速部署

```bash
# 1. 硬件连接（按照组装指南）
# 2. 配置Arduino代码（WiFi和服务器IP）
# 3. 上传Arduino代码
# 4. 启动Python服务器
cd experiment/air-monitor/src/python
pip install flask flask-cors
python kitchen_web_server.py

# 5. 访问Web界面
# 浏览器打开: http://localhost:5000
```

**详细步骤请参考**: [快速开始指南](docs/KITCHEN_QUICKSTART.md)

---

## 📁 项目结构

```
experiment/air-monitor/
├── src/                                    # 源代码
│   ├── arduino/
│   │   └── kitchen_sensor_v1.ino          # ⭐ Arduino多传感器代码
│   └── python/
│       └── kitchen_web_server.py          # ⭐ Python Web服务器（多传感器版）
│
├── docs/                                   # 文档
│   ├── KITCHEN_QUICKSTART.md              # ⭐ 快速开始（5分钟上手）
│   ├── KITCHEN_ASSEMBLY_GUIDE.md          # ⭐ 完整组装指南
│   ├── KITCHEN_SYSTEM_FEATURES.md         # 系统特性说明
│   ├── arduino/
│   │   ├── DHT11_QUICKSTART.md           # DHT11快速开始
│   │   └── DHT11_EXPERIMENT_GUIDE.md     # DHT11实验指南
│   ├── 视频剧本.md                        # 录制视频剧本
│   └── research-厨房空气质量监测与异常告警创意实验方案.md
│
└── KITCHEN_README.md                       # 本文件

```

---

## 🔧 硬件清单

### 必需组件

| 组件 | 数量 | 价格估算 | 说明 |
|------|------|---------|------|
| Arduino UNO R4 WiFi | 1 | ¥120 | 开发板（内置WiFi和LED矩阵） |
| DHT11温湿度传感器 | 1 | ¥15 | 测量温度和湿度 |
| MQ7一氧化碳传感器 | 1 | ¥25 | 检测一氧化碳浓度 |
| MQ135空气质量传感器 | 1 | ¥20 | 检测多种有害气体 |
| 声音传感器模块 | 1 | ¥10 | 检测环境噪音 |
| 面包板 | 1 | ¥10 | 电路连接 |
| 杜邦跳线 | 若干 | ¥10 | 连接线 |
| USB Type-C线 | 1 | ¥15 | Arduino供电和编程 |
| **总计** | - | **¥225** | 约人民币225元 |

### 软件环境

- Arduino IDE 2.0+
- Python 3.8+
- Flask + Flask-CORS
- 现代浏览器（Chrome/Firefox/Edge）

---

## 🔌 硬件连接

### 快速接线图

```
Arduino UNO R4 WiFi
  ├─ 5V  ─┬─→ DHT11(VCC)
  │       ├─→ MQ7(VCC)
  │       ├─→ MQ135(VCC)
  │       └─→ 声音传感器(VCC)
  │
  ├─ GND ─┬─→ DHT11(GND)
  │       ├─→ MQ7(GND)
  │       ├─→ MQ135(GND)
  │       └─→ 声音传感器(GND)
  │
  ├─ D2  ───→ DHT11(DATA)
  ├─ A0  ───→ MQ7(A0)
  ├─ A1  ───→ MQ135(A0)
  └─ A2  ───→ 声音传感器(OUT)
```

### 引脚分配

| 传感器 | Arduino引脚 | 线色建议 |
|--------|-------------|---------|
| DHT11 温湿度 - VCC | 5V | 红色 |
| DHT11 温湿度 - GND | GND | 黑色 |
| DHT11 温湿度 - DATA | D2 | 黄色 |
| MQ7 一氧化碳 - VCC | 5V | 红色 |
| MQ7 一氧化碳 - GND | GND | 黑色 |
| MQ7 一氧化碳 - A0 | A0 | 灰色 |
| MQ135 空气质量 - VCC | 5V | 红色 |
| MQ135 空气质量 - GND | GND | 黑色 |
| MQ135 空气质量 - A0 | A1 | 绿色 |
| 声音传感器 - VCC | 5V | 红色 |
| 声音传感器 - GND | GND | 黑色 |
| 声音传感器 - OUT | A2 | 蓝色 |

**详细步骤**: [完整组装指南](docs/KITCHEN_ASSEMBLY_GUIDE.md)

---

## 💻 软件配置

### Arduino代码配置

编辑 `src/arduino/kitchen_sensor_v1.ino`:

```cpp
// 修改WiFi配置（第14-15行）
char ssid[] = "你的WiFi名称";
char pass[] = "你的WiFi密码";

// 修改服务器IP（第18行）
String host = "你的PC_IP";  // 用ipconfig查看
```

**安装库**:
- DHT sensor library (Adafruit)
- Adafruit Unified Sensor

**上传**: 选择板子 → Arduino UNO R4 WiFi → 上传

### Python服务器启动

```bash
cd experiment/air-monitor/src/python
pip install flask flask-cors
python kitchen_web_server.py
```

**访问**: http://localhost:5000

---

## 📊 功能展示

### Web界面

界面包含：

1. **数据卡片（5个）**
   - 🌡️ 温度 - 实时显示当前温度
   - 💧 湿度 - 实时显示当前湿度
   - ⚠️ 一氧化碳 - CO浓度 + 安全等级
   - 🌫️ 空气质量 - AQI指数 + 质量评级
   - 🔊 声音强度 - 环境噪音百分比

2. **状态栏**
   - 连接状态、最后更新时间
   - 自动刷新状态、数据记录数

3. **历史图表（3个）**
   - 温湿度历史趋势图
   - 气体浓度趋势图
   - 声音强度趋势图

### 界面截图说明

- **卡片式设计**: 每个传感器独立卡片，颜色区分
- **实时更新**: 每3秒自动刷新数据
- **智能告警**: CO和AQI自动显示安全等级
- **交互图表**: Chart.js图表，可缩放查看

---

## 🔍 监测维度

### 1. 温湿度监测（DHT11）

**监测内容**:
- 温度范围：0-50°C，精度±2°C
- 湿度范围：20-90%RH，精度±5%RH

**应用场景**:
- 判断厨房环境舒适度
- 指导空调/加湿器使用
- 分析烹饪对环境影响

### 2. 一氧化碳监测（MQ7）

**监测内容**:
- 检测范围：0-1000 ppm
- 预热时间：2-5分钟

**安全等级**:
- 🟢 安全：< 50 ppm
- 🟡 注意：50-200 ppm
- 🔴 危险：> 200 ppm

**应用场景**:
- 燃气泄漏检测
- 不完全燃烧监测
- 厨房安全预警

### 3. 空气质量监测（MQ135）

**监测内容**:
- 检测气体：氨气、苯、酒精、烟雾、CO2等
- 检测范围：0-500 AQI

**质量等级**:
- 🟢 优秀：< 100
- 🟡 良好：100-200
- 🔴 污染：> 200

**应用场景**:
- 油烟浓度监测
- 燃气泄漏辅助检测
- 通风效果评估

### 4. 声音强度监测

**监测内容**:
- 检测范围：0-100%
- 响应时间：< 1秒

**应用场景**:
- 判断油烟机是否开启
- 监测烹饪噪音水平
- 检测异常噪音（设备故障）

---

## 📈 数据流程

```
┌─────────────┐
│  厨房环境    │ (温度、湿度、CO、空气、声音)
└──────┬──────┘
       │ 物理信号
       ↓
┌─────────────┐
│  传感器模块  │ (DHT11、MQ7、MQ135、声音传感器)
└──────┬──────┘
       │ 电信号
       ↓
┌─────────────┐
│ Arduino读取 │ (模拟/数字信号转换)
└──────┬──────┘
       │ JSON数据
       ↓
┌─────────────┐
│ WiFi传输    │ (HTTP POST)
└──────┬──────┘
       │
       ↓
┌─────────────┐
│ Python服务器│ (Flask + SQLite)
└──────┬──────┘
       │
       ↓
┌─────────────┐
│  Web界面    │ (实时显示 + 图表分析)
└─────────────┘
```

### 数据更新频率

- **传感器读取**: 每2秒
- **数据发送**: 每5秒（Arduino → Python）
- **界面刷新**: 每3秒（浏览器请求）
- **LED显示**: 每2秒切换

---

## 🧪 测试验证

### 快速功能测试

| 测试项 | 操作 | 预期结果 |
|--------|------|---------|
| 温湿度 | 对DHT11呼气 | 温度↑1-2°C，湿度↑10-20% |
| 一氧化碳 | 等待MQ7预热5分钟 | 数值稳定在低位 |
| 空气质量 | 喷空气清新剂 | AQI快速上升 |
| 声音 | 拍手/播放音乐 | 声音强度跳动 |
| LED显示 | 观察Arduino | 循环显示T/H/CO/AQ |
| Web界面 | 打开浏览器 | 显示实时数据 |

**详细测试**: [组装指南 - 测试验证](docs/KITCHEN_ASSEMBLY_GUIDE.md#测试验证)

---

## 📚 文档导航

### 🚀 快速开始
- [**KITCHEN_QUICKSTART.md**](docs/KITCHEN_QUICKSTART.md) - 5分钟快速上手指南

### 🔧 组装部署
- [**KITCHEN_ASSEMBLY_GUIDE.md**](docs/KITCHEN_ASSEMBLY_GUIDE.md) - 完整组装步骤 + 接线图 + 配置说明

### 📖 系统说明
- [**KITCHEN_SYSTEM_FEATURES.md**](docs/KITCHEN_SYSTEM_FEATURES.md) - 系统特性详解 + 技术架构

### 🎬 视频制作
- [**视频剧本.md**](docs/视频剧本.md) - 完整视频录制剧本

### 🔬 实验方案
- [**research-厨房空气质量监测与异常告警创意实验方案.md**](docs/research-厨房空气质量监测与异常告警创意实验方案.md)

### 📝 单传感器入门
- [**DHT11_QUICKSTART.md**](docs/arduino/DHT11_QUICKSTART.md) - DHT11快速开始
- [**DHT11_EXPERIMENT_GUIDE.md**](docs/arduino/DHT11_EXPERIMENT_GUIDE.md) - DHT11实验指南

---

## ❓ 常见问题

### Q1: WiFi连接失败？
**A**: 检查WiFi名称和密码，确保是2.4GHz网络，不支持5GHz。

### Q2: 传感器数值一直是0？
**A**: MQ7和MQ135需要预热5分钟以上才能正常工作。

### Q3: Web界面无法打开？
**A**: 确认Python服务器正在运行，防火墙允许端口5000。

### Q4: 手机无法访问？
**A**: 确保手机和PC在同一WiFi，使用PC的IP地址访问。

### Q5: 数据不准确？
**A**: 
- DHT11精度有限（±2°C/±5%RH）
- MQ7/MQ135需要校准
- 首次使用建议预热24小时

**更多问题**: [组装指南 - 常见问题](docs/KITCHEN_ASSEMBLY_GUIDE.md#常见问题)

---

## 🎓 学习收获

通过这个项目，你将学到：

### 硬件知识
- ✅ Arduino开发板使用
- ✅ 多种传感器工作原理
- ✅ 电路连接和调试
- ✅ 模拟/数字信号处理

### 软件开发
- ✅ Arduino C/C++编程
- ✅ Python Flask Web开发
- ✅ JavaScript前端开发
- ✅ RESTful API设计

### 系统集成
- ✅ 硬件软件集成
- ✅ WiFi通信协议
- ✅ 数据可视化
- ✅ 数据库操作（SQLite）

### 项目经验
- ✅ 完整的IoT项目流程
- ✅ 多传感器数据融合
- ✅ 实时系统设计
- ✅ 问题排查和调试

---

## 🚀 扩展方向

### 初级扩展
- [ ] 添加数据导出功能（CSV/Excel）
- [ ] 添加自定义告警阈值设置
- [ ] 优化界面主题和配色

### 中级扩展
- [ ] 添加PM2.5传感器
- [ ] 实现邮件/短信告警
- [ ] 添加用户认证系统
- [ ] 开发移动端APP

### 高级扩展
- [ ] 接入云平台（阿里云/腾讯云）
- [ ] 实现机器学习预测
- [ ] 联动智能设备（自动开启排气扇）
- [ ] 多设备管理系统

---

## 📊 项目对比

### 与单传感器版本对比

| 特性 | 单传感器版本 | 多传感器版本 |
|------|-------------|------------|
| 传感器数量 | 1个（DHT11） | 4个 |
| 监测维度 | 2个（温度、湿度） | 5个 |
| 安全监测 | ❌ | ✅（CO、空气质量） |
| 设备状态推断 | ❌ | ✅（声音监测） |
| 数据分析 | 基础 | 多维度综合分析 |
| 应用价值 | 学习演示 | 实用监测 |
| 复杂度 | 简单 | 中等 |
| 成本 | ¥160 | ¥225 |

---

## 🌟 项目亮点

1. **多传感器融合** - 5个维度全面监测厨房环境
2. **实时性强** - 端到端延迟 < 10秒
3. **界面现代** - 响应式设计，PC和手机均可访问
4. **安全监测** - 一氧化碳和空气质量智能告警
5. **易于复制** - 详细文档，低成本（< ¥230）
6. **可扩展性** - 模块化设计，易于添加新功能

---

## 📄 许可证

本项目采用开源协议，可自由学习、修改和分享。

---

## 👥 贡献

欢迎提交问题报告和改进建议！

---

## 📞 技术支持

- 📖 查看详细文档
- 💬 在Issues中提问
- 📧 联系项目维护者

---

**开始你的厨房空气质量监测之旅吧！** 🎉

**推荐阅读顺序**:
1. [快速开始](docs/KITCHEN_QUICKSTART.md) ⏱️ 5分钟
2. [完整组装指南](docs/KITCHEN_ASSEMBLY_GUIDE.md) ⏱️ 30分钟
3. [系统特性说明](docs/KITCHEN_SYSTEM_FEATURES.md) ⏱️ 10分钟
4. 开始动手实践！💪

---

**版本**: v1.0  
**日期**: 2025-10-28  
**状态**: ✅ 稳定可用

